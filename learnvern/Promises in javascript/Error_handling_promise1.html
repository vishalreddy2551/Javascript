<DOCTYPE html>
  <html>
    <head>
      <title>Error Handling in promise</title>
      <style>
        body {
          text-align: center;
        }
      </style>
    </head>
    <body>
      <h3>Error/Exception Handling in promise: Error inside promise</h3>
      <p id="result"></p>
      <script>
        let unAuthorized = false;
        function getUserById(id) {
          return new Promise((resolve, reject) => {
            if (!userAuthorized) {
              throw new Error("user is not Authorised");
            }
            resolve({
              id: id,
              username: "admin",
            });
          });
        }
        try{
            getUserById(7).then(user => console.log(user.username)).catch((error) => console.log('Caught by .catch' + error));
        }catch(e){
         console.log('Caught by try/catch{$error}')
        }
        
         
      </script>
    </body>
  </html>
</DOCTYPE>
